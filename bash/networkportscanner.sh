#!/bin/bash

if [ "$1" == "" ]; 
then
    echo "Usage: $0 <gateway> <port>"
    echo "Example: $0 192.168.0.1 80"
elif [ "$2" == "" ]; 
then
    echo "Usage: $0 <gateway> <port>"
    echo "Example: $0 192.168.0.1 80"
else
    echo "Network scanner running!"
    host_manipulated=$(echo $1 | cut -d '.' -f 1,2,3)
    for final in {1..254}; #for networks class A
    do
        timeout 0.2 nc -vz $host_manipulated.$final $2 2>&1 | grep "open";
    done
fi